{"version":3,"sources":["services/persons.js","components/Persons.js","components/Notification.js","components/PersonForm.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Button","personClicked","persons","setPersons","type","onClick","event","preventDefault","window","confirm","name","personsService","filter","person","alert","Persons","search","personsToShow","toLowerCase","startsWith","map","number","Notification","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","PersonForm","props","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNum","handleNumChange","Filter","handleSearchChange","App","useState","setNewName","setNewNum","setSearch","notificationMessage","setNotificationMessage","setColor","useEffect","initialPersons","target","nameObject","oldPerson","find","console","log","returnedPerson","setTimeout","concat","catch","error","close","ReactDom","render","document","getElementById"],"mappings":"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","file":"static/js/main.ff691995.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = './api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, update, remove}","import personsService from '../services/persons'\n\nconst Button = ({personClicked, persons, setPersons}) => {\n\n  const handleDeletion = (event) => {\n    event.preventDefault()\n\n    window.confirm(`Delete ${personClicked.name}?`)\n    ?\n      personsService.remove(personClicked.id)\n      .then(() => setPersons(persons.filter(person => person.id !== personClicked.id)))\n    :\n      alert(`${personClicked.name} kept in phonebook`)\n      \n    \n\n  }\n\n  return (\n    <button type=\"submit\" onClick={handleDeletion}>delete</button>\n  )\n}\n\nconst Persons = ({persons, search, setPersons }) => {\n\n  const personsToShow = search === \"\"\n      ? persons\n      : persons.filter(person => person.name.toLowerCase().startsWith(search.toLowerCase()))\n  \n\n    return (\n      <div>\n      {personsToShow.map(person => <p key={person.name}>{person.name} {person.number} <Button personClicked = {person} persons={persons} setPersons={setPersons}/></p>)}\n      </div>\n    )\n  }\n\n  export default Persons","const Notification = ( {message, color }) => {\n\n    const notificationStyle = {\n  \n      color: color,\n      background: 'lightgrey',\n      fontSize: 20,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10\n    }\n  \n    if (message === null) {\n      return null\n    }\n    return (\n      <div style={notificationStyle}>\n        {message}\n      </div>\n    )\n  }\n\n  export default Notification\n  ","const PersonForm = (props) => {\n\n    return (\n      <div>\n        <form onSubmit={props.addPerson}>\n          <div>name: <input value={props.newName} onChange={props.handleNameChange} /></div>\n          <div>number: <input value={props.newNum} onChange={props.handleNumChange}/></div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n      </div>\n    )\n  }\n\n  export default PersonForm","import React, { useState, useEffect } from 'react'\nimport personsService from './services/persons'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\n\nconst Filter = ({search, handleSearchChange}) => {\n  \n  return (\n    <p>filter shown with<input value={search} onChange={handleSearchChange} /></p>\n  )\n\n}\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNum, setNewNum ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [color, setColor] = useState('green')\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  \n  const addPerson = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNum,\n    }\n\n    const oldPerson = persons.find(person => person.name === nameObject.name)\n    console.log(oldPerson)\n    oldPerson\n    ? window.confirm(`${nameObject.name} is already in the phonebook, replace the old number with a new one?`)\n      ? personsService\n          .update(persons.find(person => person.name === nameObject.name).id, nameObject)\n          .then((returnedPerson)=> {\n            setNotificationMessage(\n              `${returnedPerson.name}'s number has been updated`\n            )\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n            setPersons(persons.filter(person => person.number !== oldPerson.number).concat(returnedPerson))\n            setNewName('')\n            setNewNum('')\n          })\n          .catch(error => {\n            setColor('red')\n            setNotificationMessage(`Information of ${nameObject.name} has already been removed from the server`)\n            setTimeout(() => {\n              setColor('green')\n              setNotificationMessage(null)\n            }, 5000)\n          })\n      : window.close()\n    : personsService\n      .create(nameObject)\n      .then(returnedPerson => {\n        setNotificationMessage(\n          `${returnedPerson.name} was successfully added to Phonebook`\n        )\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n        setPersons(persons.concat(returnedPerson)) \n        setNewName('')\n        setNewNum('')\n      }).catch(error => {\n        setColor('red')\n        setNotificationMessage(\n          `${error.response.data.error}`\n        )\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n      })\n    \n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumChange = (event) => {\n    setNewNum(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setSearch(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} color={color}/>\n      <Filter search={search} handleSearchChange={handleSearchChange} />\n      <h3>Add a new</h3>\n      <PersonForm addPerson={addPerson} newName={newName} newNum={newNum}\n        handleNameChange={handleNameChange} handleNumChange={handleNumChange} />\n      <h3>Numbers</h3>\n      <Persons persons={persons} search={search} setPersons={setPersons} />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDom from 'react-dom'\nimport App from './App'\n\nReactDom.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}